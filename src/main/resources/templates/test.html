<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Xem lแบกi bรi thi: <span th:text="${exam.title}">Tiรชu ฤแป</span></title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        .correct { color: green; font-weight: bold; }
        .wrong { color: red; font-weight: bold; }
    </style>
</head>
<body>
<div class="container mt-4">
    <h2>๐ Xem lแบกi bรi thi: <span th:text="${exam.title}"></span></h2>
    <p><strong>Mรด tแบฃ:</strong> <span th:text="${exam.description}"></span></p>
    <p><strong>ฤiแปm ฤแบกt ฤฦฐแปฃc:</strong> <span th:text="${examResult.score}"></span> / <span th:text="${exam.totalPoints}"></span></p>

    <div th:each="question, iterStat : ${exam.questions}">
        <div class="card mb-3">
            <div class="card-body">
                <h5 th:text="'Cรขu ' + (${iterStat.index} + 1) + ': ' + question.text"></h5>

                <ul>
                    <li th:each="opt : ${question.options}"
                        th:text="opt"
                        th:classappend="${opt == examResult.answers[iterStat.index]} ? 'font-weight-bold' : ''">
                        Option
                    </li>
                </ul>

                <p>
                    <strong>ฤรกp รกn hแปc viรชn:</strong>
                    <span th:text="${examResult.answers[iterStat.index]}"></span>
                </p>
                <p>
                    <strong>ฤรกp รกn ฤรบng:</strong>
                    <span th:text="${question.correctAnswer}" class="correct"></span>
                </p>
                <p th:if="${examResult.answers[iterStat.index] == question.correctAnswer}">
                    <span class="correct">Bแบกn trแบฃ lแปi ฤรบng โ๏ธ</span>
                </p>
                <p th:if="${examResult.answers[iterStat.index] != question.correctAnswer}">
                    <span class="wrong">Bแบกn trแบฃ lแปi sai โ</span>
                </p>
            </div>
        </div>
    </div>

    <a th:href="@{/exam/take/{id}(id=${exam.id})}" class="btn btn-primary">Thi lแบกi</a>
    <a th:href="@{/exam/list}" class="btn btn-secondary">Vแป danh sรกch ฤแป thi</a>
</div>
</body>
</html>
